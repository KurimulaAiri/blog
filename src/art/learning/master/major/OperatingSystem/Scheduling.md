---
title: 调度
date: 2025-08-22
icon: 'gears'
order: 13
category: 
    - '408'
    - '操作系统'
    - 考研  
---

## 调度的概念

当有大量任务要处理，但由于资源有限，这些事情没法同时处理。这就需要确定某种规则来决定处理这些任务的顺序，这就是“调度”研究的问题

## 调度的三个层次

### 高级调度

内存空间有限，有时无法将用户提交的作业全部放入内存

**高级调度（作业调度）**{#blue-msg} —— 按一定的原则从外存的作业后备队列中挑选一个作业调入内存，并创建进程。**每个作业只调入一次，调出一次**{#red-msg}。作业调入时会建立 PCB ，调出时才撤销 PCB 

::: tip

作业：一个具体的任务

用户向系统提交一个作业 = 用户让操作系统启动一个程序（来处理一个具体的任务）

:::

### 低级调度

**低级调度（进程调度 / 处理机调度）**{#blue-msg} —— 按照某种策略从就绪队列中选取一个进程，将处理机分配给它

进程调度是操作系统中**最基本的一种调度**{#blue-msg}，在一般的操作系统中都必须配置进程调度进程调度的**频率很高**{#blue-msg}，一般几十毫秒一次

### 中级调度

内存不够时，可将某些进程的数据调出外存。等内存空闲或者进程需要运行时再重新调入内存

暂时调到外存等待的进程状态为**挂起状态**{#blue-msg}。被挂起的进程 PCB 会被组织成**挂起队列**{#blue-msg}

**中级调度（内存调度）**{#blue-msg} —— 按照某种策略决定将哪个处于挂起状态的进程重新调入内存
一个进程可能会被多次调出、调入内存，因此**中级调度发生的频率要比高级调度更高**{#blue-msg}

### * 七状态模型

**考 408 仅了解，不要求记忆**{#red-msg}

暂时调到外存等待的进程状态为**挂起状态（挂起态， suspend ）**{#blue-msg}
挂起态又可以进一步细分为**就绪挂起、阻塞挂起**{#blue-msg}两种状态

**就绪挂起态（ ready-suspend ）**{#blue-msg}是指在就绪队列中等待的进程被移入外存中，**阻塞挂起态（ block-suspend ）**{#blue-msg}亦然

**阻塞挂起态**{#blue-msg}和就绪挂起态的进程可以在特定条件发生时激活并重新返回对应的队列中，某些操作系统中，处于**阻塞挂起态**{#blue-msg}的进程在等待到对应事件发生后也可以切换成**就绪挂起状态**{#blue-msg}

同样在某些操作系统中，刚创建完成的进程或**运行态**{#blue-msg}的进程在下处理机后会切换为**就绪挂起态**{#blue-msg}

::: warning

注意“挂起”和“阻塞”的区别，两种状态都是暂时不能获得 CPU 的服务，但挂起态是将进程映像调到外存去了，而阻塞态下进程映像还在内存中

有的操作系统会把就绪挂起、阻塞挂起分为两个挂起队列，甚至会根据阻塞原因不同再把阻塞挂起进程进一步细分为多个队列

:::

### 三种调度的联系和对比

| 调度类型 / 对比项 | 要做什么 | 调度发生在哪 | 发生频率 | 对进程状态的影响 |
| :---: | :---: | :---: | :---: | :---: |
| 高级调度（作业调度） | 按照某种规则，从后备队列中选择合适的作业将其调入内存，并为其创建进程 | 外存→内存（面向作业） | 最低 | 无→创建态→就绪态 |
| 低级调度（内存调度） | 按照某种规则，从挂起队列中选择合适的进程将其数据调回内存 | 外存→内存（面向进程） | 中等 | 挂起态→就绪态（阻塞挂起→阻塞态） |
| 中级调度（进程调度） | 按照某种规则，从就绪队列中选择一个进程为其分配处理机 | 内存→ CPU | 最高 | 就绪态→运行态 |


