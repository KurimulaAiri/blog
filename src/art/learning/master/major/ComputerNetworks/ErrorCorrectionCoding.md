---
title: 纠错编码
date: 2025-06-04
icon: 'earth-americas'
order: 15
category: 
    - '408'
    - '计算机网络'
    - 考研
---

## 差错控制

在数据链路层中，差错控制的主要目标是发现并解决一个帧内部的“位错”，有两种解决方法：

- 解决方法一：接收方发现比特错误后丢弃帧，并通知发送方重传帧；即**检错编码**，主要有：**奇偶校验码、CRC 校验码**{#blue-msg}

- 解决方法二：由接收方发现并纠正比特错误；即**纠错编码**，主要有：**海明校验码**{#blue-msg}

## 奇偶校验码

采用奇偶校验的帧含有两个部分：信息位（有效数据）和校验位（冗余数据）。

校验原理：

- 在帧的首部或尾部添加一个校验位，使整个帧中“1”的个数为奇数或偶数。

- 奇校验码：整个校验码（有效信息位和校验位）中“1”的个数为奇数。

- 偶校验码：整个校验码（有效信息位和校验位）中“1”的个数为偶数。

::: tip 举例

以二进制数 10110100 为例，

| 校验方法 | 校验位 | 校验码 |
| :------: | :----: | :----: |
|  奇校验码  |   0   | **0**{#red-msg}**10110100**{#blue-msg} |
|  偶校验码  |   1   | **1**{#red-msg}**10110100**{#blue-msg} |

在实际使用中，通常采用偶校验码，因为对各信息进行异或（模2加法）[^1]运算，得到的结果即为偶校验位

还是以二进制数 10110100 为例，

求偶校验码的步骤如下：

1. 计算校验码：

$$
1\oplus0\oplus1\oplus1\oplus0\oplus1\oplus0\oplus0 = 1
$$

2. 校验码为 1 ，因此偶校验码为 **1**{#red-msg}**1010100**{#blue-msg}。

对于接收方来说，校验数据只需要对整个数据进行异或运算，得到的结果为 0 ，则说明数据没有错误。

:::

奇偶校验的缺点：

- 无法检测出偶数个的错误；

- 只能检测出错误，不能纠正错误。

[^1]: 模2加法：$
        \begin{cases}
        0\oplus0=0 \\
        0\oplus1=1 \\
        1\oplus0=1 \\
        1\oplus1=0
        \end{cases}$，即异或运算

## 循环冗余校验码

循环冗余校验码（Cyclic Redundancy Check，CRC）是一种常用的检错编码，它通过在数据后面附加冗余位来检测数据中的错误。

CRC的基本思想：数据发送，接收方约定一个“除数”，k 个信息位 + r 个校验位作为“被除数”，添加校验位后需保证**除法**的余数为 0。

接收方收到数据后，对数据进行“除法”，如果余数为 0，则说明数据没有错误。

::: tip 举例

以二进制数 101101 为例，

设生成多项式为 $G(x) = x^3 + x + 1$，

1. 确定 k 和 r 以及生成多项式对应的二进制码：

    k = 信息位的长度 = 6，r = 生成多项式最高次幂 = 3，校验码位数 n = k + r = 9，

    生成多项式对应的二进制码为生成多项式幂次从高到低的每一项系数即 $G(x) = 1 \times x^3 + 0 \times + x^2 + 1 \times x + 1 \times x^0 = 1010$。

| 信息位 | 校验位 | 生成多项式二进制码 |
| :----: | :----: | :----: |
| 6 | 3 | **1010** |

2. 移位

信息码左移 r 位，低位补 0

补齐后为： 101101**000**{#blue-msg}

3. 模 2 除法

基本规则：

- 当除数的最高位为 1 时，用除数除以被除数，商最高位补 1

- 当除数的最高位为 0 时，用除数除以被除数，商最高位补 0

- 剩余位数进行异或减运算

将补齐后的信息码除以生成多项式，得到余数，余数即为校验码

$$

\begin{array}{lr} 
& 100100 \\ 
1010  \!\!\!\!\!\! & \overline{)101101000} \\ 
& \underline{1010\ \ \ \ \ \ \ \ \ \ } \\ 
& 0010 \ \ \ \ \ \ \ \ \\
& \underline{0000\ \ \ \ \ \ \ \ } \\ 
& 0101 \ \ \ \ \ \ \\
& \underline{0000\ \ \ \ \ \ } \\
& 1010 \ \ \ \ \\
& \underline{1010\ \ \ \ } \\
& 0000 \ \ \\
& \underline{0000\ \ } \\
& 0000 \\
& \underline{0000} \\
& 000 \\
\end{array}

$$

余数为 000，因此校验位为 000，

因此 CRC 码为 101101**000**{#blue-msg}。

4. 检错和纠错
