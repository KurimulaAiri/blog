---
title: 以太网交换机
date: 2025-07-22
icon: 'earth-americas'
order: 19
category: 
    - '408'
    - '计算机网络'
    - 考研
---

## 特点

- 交换机等同于多端口网桥

- 交换机工作在数据链路层，可以根据目的 MAC 地址转发帧

- 交换机的每个端口通常都支持**全双工模式**，除非连接的是**集线器**

- 交换机通过交换表记录 MAC 地址和端口号的关系，以达到正确转发帧的目的

- 交换机通过学习机制自动更新交换表

## 自学习功能

一个标准的 V2 以太网 MAC 帧： 6 6 2 N 4 ，收发协数验

假设以下情况：

以节点字母代号代表其具体 MAC 地址

节点之间互相知道彼此的 MAC 地址，并依次发送以下帧：

1. $A \rightarrow C$

2. $B \rightarrow C$

3. $C \rightarrow A$

4. $H \rightarrow A$

5. $H \rightarrow C$

6. $C \rightarrow H$

7. $J \rightarrow \text{广播}$

8. $K \rightarrow J$

![交换机自学习示例图](https://store.s1r0ko.top/svg/m/cn/19/1_ver_1.svg)

开始时，两台交换机各自维护的交换表均为空，如下：

| 交换机端口号 | 1 | …… | 8 |
| :---: | :---: | :---: | :---: |
| MAC 地址 | NULL | …… | NULL |

1. 收到 $A \rightarrow C$ 帧，学习到 $A$ 的 MAC 地址，将 $A$ 的 MAC 地址和端口号 $1$ 记录到交换表中，此时由于交换表中没有 $C$ 的记录，所以将该帧向全部连接的子节点发送出去，所有节点除 $C$ 外接收到该帧都会丢弃，并且由于其连接到交换机 2 所以交换机也会重复这一步骤，由于交换机 2 的交换表没有记录过该帧发送方的 MAC 地址并且该帧从端口 1 进入，所以交换机 2 会将该帧的发送方 MAC 地址，也就是 $A$ 的 MAC 地址映射记录到端口 1 上，此时双方的交换表应该是这样的

![交换表](https://store.s1r0ko.top/svg/m/cn/19/2_ver_1.svg)

2. 收到 $B \rightarrow C$ 的处理和步骤 1 类似，此时交换机 1 做的操作就是记录 $B$ MAC 地址然后广播，交换机 2 的操作也是记录 $B$ MAC 地址然后广播，所以双方的交换表应该是这样的：

![交换表](https://store.s1r0ko.top/svg/m/cn/19/3_ver_1.svg)





